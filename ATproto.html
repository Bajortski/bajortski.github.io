<!DOCTYPE html>
<head>
    <meta charset="en" />
    <meta name="author" content="Toast Bajortski">
    <title>ATproto</title>
    <link rel="stylesheet" href="stylesheet.css"/>
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <link rel="script" href="script.js"/>
    <script>
        function parseStatuses(markdown) {
            return markdown
                .split('\n')
                .map(line => line.trim())
                .filter(line => line.startsWith('- '))
                .map(line => line.slice(2));
        }
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        fetch('https://raw.githubusercontent.com/Bajortski/bajortski.github.io/refs/heads/main/statuses.md')
            .then(response => response.text())
            .then(markdown => {
                const statuses = parseStatuses(markdown);
                shuffle(statuses);
                const space = '&nbsp;'.repeat(4);
                const joined = space + statuses.join('  &middot;  ');
                document.getElementById('markdown-content').innerHTML = joined;
            });
        fetch('https://raw.githubusercontent.com/Bajortski/bajortski.github.io/refs/heads/main/version.md')
            .then(response => response.text())
            .then(version => {
                const versionCell = document.getElementById('version-cell');
                if (versionCell) {
                    versionCell.textContent = version.trim();
                }
            });
    </script>
</head>
<body>
    <div class="container">
        <div class="content">
            <table class="header">
                <tr>
                    <th colspan="1" class="width-min">
                        <a href="index.html">back</a>
                    </th>
                    <td class="width-min">version</th>
                    <td class="width-min" id="version-cell"></td>
                <tr>
                <tr>
                    <th colspan="3" rowspan="1" class="width-auto">
                        <h1>Pick your ATproto reader of choice</h1>
                        <div class="immutable-text" id="textField" onclick="showToast()">did:plc:pikobv6h2fpzngsjh6myzdkb</div>
                    </td>
                </tr>
                <tr>
                    <td class="width-min">
                        <a href="https://bsky.app/profile/did:plc:pikobv6h2fpzngsjh6myzdkb/">bsky.app</a>
                    </td>
                    <td class="width-min">
                        <a href="https://deer.social/profile/did:plc:pikobv6h2fpzngsjh6myzdkb/">deer.social</a>
                    </td>
                    <td class="width-min">
                       <a href="https://pdsls.dev/at://did:plc:pikobv6h2fpzngsjh6myzdkb">pdsls.dev</a> 
                    </td>
                </tr>
            </table>
        </div>
        <div id="toast">copied to clipboard</div>
    </div>



    <script>
        function showToast() {
        const toast = document.getElementById("toast");
        toast.style.visibility = "visible";
        setTimeout(() => {
            toast.style.visibility = "hidden";
        }, 1000);
        }
    </script>
</body>